
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuisto - Produits Montpellier</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Import toutes les coupes nécessaires : 400 normal, 600 normal, 700 normal, 600 italic -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,600;0,700;1,600&display=swap" rel="stylesheet">
      <style>
        .font-montserrat { font-family: 'Montserrat', sans-serif; }
        .bg-kuistoOrange { background-color: #F18701; }
        
        /* ———————————————————————————
           VARIABLES GÉNÉRALES
        ——————————————————————————— */
        :root {
            --hero-h: 219px;        /* hauteur du bandeau rouge */
            --side-w: 211px;        /* largeur du menu vertical */
            --gutter: 24px;         /* espacement latéral des produits */
            --card-min: 340px;/* largeur minimale d'une carte produit */
            --catalogue-offset: 10px; /* décale la zone principale vers la droite */
            
            /* Variables pour le composant carte produit */
            --card-w: 370px;        /* largeur de la carte */
            --card-h: 150px;        /* hauteur de la carte */
            --thumb: 120px;         /* taille de l'image */
            --btn: 48px;            /* taille du bouton + */
            --gap: 22px;            /* espace entre cartes */

            --red: #E30613;
            --kuisto-orange: #F18701;
            --grey-text: #808080;
            --grey-line: #d0d0d0;
            --card-radius: 28px;
            --bigsmash-white: #ffffff;
            --bigsmash-shadow: 0 4px 16px rgba(0,0,0,0.08);
            --bigsmash-radius: 20px;
        }

        /* Reset de base */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
         html, body, .side-nav, .catalogue, main, .app, .container {
    background: #f5f6f7 !important;
           height: 100%;
}

        
       

        /* Bannière style "produit.html" avec arrondis en bas */
.hero {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
@@ -176,237 +176,242 @@
        }
        
        .section-title::after {
            content: "";
            flex: 1;
            height: 1px;
            background: var(--grey-line);
        }

        /* ————————————— LAYOUT PRODUITS ————————————— */
        /* Grille de cartes produits */
        
.cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(var(--card-w), var(--card-w)));
  gap: var(--gap);
  justify-content: start; /* ou center si tu veux centrer quand il y a peu de colonnes */
  /* Optionnel : limite largeurs pour ne pas laisser trop d'espace vide */
  /* max-width: calc(3 * var(--card-w) + 2 * var(--gap)); */
  /* margin: 0 auto; */
}

.product-card {
  position: relative;
  display: flex;
  align-items: flex-start;
  width: var(--card-w);
  max-width: var(--card-w);
  flex: 0 0 var(--card-w);
  height: var(--card-h);
  background: #fff;
  border-radius: var(--card-radius);
  box-shadow: 0 4px 12px rgba(0,0,0,.08);
  overflow: hidden;
  margin: 0;
  padding: 17px 26px 0 26px;
  transition: all 0.3s cubic-bezier(.39,.46,.29,1.17);
}
.product-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0,0,0,.15);
}
.product-card.glow {
  box-shadow: 0 0 0 4px #F18701, 0 8px 32px rgba(241,135,1,0.14);
}

/* Image carrée à gauche */
.product-card .thumb {
  flex: 0 0 var(--thumb);
  width: var(--thumb);
  height: var(--thumb);
  border-radius: 18px;
  overflow: hidden;
  margin-right: 20px;
  margin-left: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}
.product-card .thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 18px;
}

/* Bloc texte flexible */
.product-card .info {
  flex: 1;
  min-width: 0;
  padding: 0 80px 0 0;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  gap: 8px;
  height: 100%;
  position: relative;
}

.product-card .product-name,
.product-card h3 {
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;
  font-size: 17px;
  line-height: 1.1;
  color: #000;
  margin: 0 0 5px 0;
  text-transform: uppercase;
}

.product-card .desc {
  font-family: 'Montserrat', sans-serif;
  font-style: italic;
  font-weight: 600;
  font-size: 10px;
  line-height: 13px;
  color: #808080;
  margin: 0 0 4px 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 190px;
}

.product-card .price {
  position: absolute;
  bottom: 40px;
  left: 0;
  font-size: 0; /* Pour inline-blocks */
}

.product-card .price .from {
  font-style: italic;
  font-weight: 600;
  font-size: 10px;
  line-height: 15px;
  color: #000;
  margin-right: 3px;
}
.product-card .price .value {
  font-weight: bold;
  font-size: 15px;
  color: #222;
}

/* ===== BOUTON "+" dans le coin ===== */
.add-btn-corner {
  position: absolute;
  right: 13px;
  bottom: 13px;
  width: 50px;
  height: 36px;
  background: #000;
  color: #fff;
  font-size: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-top-left-radius: 20px;
  border-bottom-right-radius: 20px;
  z-index: 2;
  text-decoration: none;
  transition: background 0.3s;
  box-shadow: 0 4px 14px rgba(0,0,0,.13);
}
.add-btn-corner:hover {
  background: #F18701;
}

/* ===== BARRE QUANTITÉ ===== */
.cart-quantity-bar {
  position: absolute;
  right: 13px;
  bottom: 13px;
  width: 152px;
  height: 36px;
  background: #000;
  border-top-left-radius: 20px;
  border-bottom-right-radius: 20px;
  display: flex;
  align-items: center;
  padding: 0 8px;
  z-index: 2;
  box-shadow: 0 4px 14px rgba(0,0,0,.13);
}

.cart-quantity-bar button,
.cart-quantity-bar a {
  width: 36px;
  height: 36px;
  background: #000;
  border: none;
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  cursor: pointer;
  transition: background 0.12s;
  text-decoration: none;
}
.cart-quantity-bar button:hover,
.cart-quantity-bar a:hover {
  background: #F18701;
  color: #fff;
}
.cart-quantity-bar button {font-size:20px;}
.cart-quantity-bar a {font-size:28px;}
.cart-minus-placeholder { width:36px; height:36px; display:block; }

.cart-qty {
  flex:1;
  font-size: 18px;
  font-weight: 700;
  color: #fff;
  text-align: center;
}

/* ===== Responsive Mobile ===== */
@media (max-width: 540px) {
  .product-card {
    width: 95vw;
    min-width: 0;
    padding: 17px 5vw 72px 5vw;
    height: auto;
    flex-direction: column;
    align-items: flex-start;
  }
  .product-card .thumb {
    margin: 0 auto 12px auto;
  }
  .product-card .cart-quantity-bar,
  .product-card .add-btn-corner {
    right: 13px;
    bottom: 13px;
    left: auto;
  }
}

        .mobile-popup-buttons .desktop-btn {
  background: #F18701 !important;
  color: #fff !important;
}
.mobile-popup-buttons .desktop-btn:hover {
  background: #fff !important;
  color: #F18701 !important;
}

        .price .value {
            font-weight: 700;
            font-size: 16px;
            line-height: 24px;
            color: #000;
        }

     
        /* Boutons en bas à gauche - Desktop uniquement */
        .desktop-buttons {
            position: fixed;
            bottom: 20px;
@@ -822,111 +827,72 @@
                <button class="add-btn">+</button>
            </div>
            
            <div class="product-card">
                <div class="thumb">
                    <img src="https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=300&h=300&fit=crop&crop=center" alt="BIG CHEESE">
                </div>
                <div class="info">
                    <h3>BIG CHEESE</h3>
                    <p class="desc">Potato bun, double steak haché smashé, oignons frais, pickles, salade double cheddar</p>
                    <span class="price">À partir de <strong>11,90 €</strong></span>
                </div>
                <button class="add-btn">+</button>
            </div>
        </div>
    </div>


    <!-- Include shared product data -->
    <script src="products-data.js"></script>
<script>
    function createProductCard(product) {
  const slug = product.slug;
  const cartQuantity = window.cartSystem ? window.cartSystem.getProductQuantity(slug) : 0;

  let priceHtml = '';
  if (product.options?.sizes?.length > 0) {
    const prices = product.options.sizes.map(s => s.price);
    const min = Math.min(...prices);
    priceHtml = `<span class="from">À partir de </span><span class="value">${min.toFixed(2).replace('.', ',')} €</span>`;
  } else {
    priceHtml = `<span class="value">${product.price.toFixed(2).replace('.', ',')} €</span>`;
  }

  let actionButton;
  if (cartQuantity > 0) {
    const minusBtn = cartQuantity > 1 ? `<button class="cart-remove-btn" onclick="window.cartSystem.decreaseQuantity('${slug}')">–</button>` : `<span class="cart-minus-placeholder"></span>`;
    actionButton = `<div class="cart-quantity-bar">${minusBtn}<span class="cart-qty">${cartQuantity}</span><a href="produit.html?slug=${slug}" class="cart-plus-btn">+</a></div>`;
  } else {
    actionButton = `<a href="produit.html?slug=${slug}" class="add-btn-corner">+</a>`;
  }

  const glow = cartQuantity > 0 ? 'glow' : '';

  return `<div class="product-card ${glow}" data-product-id="${product.id}" data-product-slug="${slug}"><div class="thumb"><img src="${product.image}" alt="${product.name}"></div><div class="info"><h3 class="product-name">${product.name}</h3><p class="desc">${product.description}</p><div class="price">${priceHtml}</div></div>${actionButton}</div>`;
}

        // Fonction pour convertir une catégorie en ID de section
        function getCategorySectionId(category) {
            return category.toLowerCase()
                .replace(/\s+/g, '-')
                .replace(/é/g, 'e')
                .replace(/è/g, 'e')
                .replace(/à/g, 'a')
                .replace(/ç/g, 'c');
        }

        // Fonction pour rediriger vers la page produit
        function goToProduct(slug) {
            window.location.href = `produit.html?slug=${slug}`;
        }

        // Fonction pour ajouter un produit au panier (utilisée par les boutons +)
        function addProductToCart(slug) {
            const product = products.find(p => p.slug === slug);
            if (product && window.cartSystem) {
                let basePrice = product.price;
                let selectedSize = null;

                // Si le produit a des options de taille, prendre la première par défaut
                if (product.options && product.options.sizes && product.options.sizes.length > 0) {
                    selectedSize = product.options.sizes[0];
@@ -1141,115 +1107,50 @@
      document.querySelectorAll('.classic-menu-item').forEach(li => li.classList.remove('active'));
      document.querySelector(.classic-menu-item[data-cat="${cat}"])?.classList.add('active');
      // Mobile
      document.querySelectorAll('.mobile-menu-item').forEach(li => li.classList.remove('active'));
      document.querySelector(.mobile-menu-item[data-cat="${cat}"])?.classList.add('active');
      // Scroll (sur mobile, en ferme le menu après click)
      const section = document.getElementById(cat);
      if(section) section.scrollIntoView({behavior: "smooth"});
      if(isMobile) toggleMobileMenu(false);
    };
    

  </script>

<script>
  // Synchronisation de la hauteur du hero pour que le catalogue soit toujours bien poussé
  function syncHeroHeight() {
    const hero = document.querySelector('.hero');
    if (!hero) return;
    const h = hero.offsetHeight;
    document.documentElement.style.setProperty('--hero-h', ${h}px);
  }
  window.addEventListener('load', syncHeroHeight);
  window.addEventListener('resize', syncHeroHeight);

</script>
  <script>
  // toggle & hide cart when menu mobile open
  function openMobileMenu() {
    document.getElementById('mobile-menu-overlay')?.classList.add('is-open');
    document.getElementById('mobile-menu-drawer')?.classList.add('is-open');
    document.body.classList.add('no-scroll', 'mobile-menu-active');
  }
  function closeMobileMenu() {
    document.getElementById('mobile-menu-overlay')?.classList.remove('is-open');
    document.getElementById('mobile-menu-drawer')?.classList.remove('is-open');
    document.body.classList.remove('no-scroll', 'mobile-menu-active');
  }

  // burger toggle
  document.querySelectorAll('#burger-btn, .mobile-menu-toggle').forEach(btn => {
    btn.addEventListener('click', () => {
      const open = document.getElementById('mobile-menu-drawer')?.classList.contains('is-open');
      open ? closeMobileMenu() : openMobileMenu();
    });
  });

  // fermeture via overlay ou X
  document.getElementById('mobile-menu-overlay')?.addEventListener('click', closeMobileMenu);
  document.querySelectorAll('.mobile-menu-drawer .close-btn').forEach(el => el.addEventListener('click', closeMobileMenu));
      </script>
    </body>
</html>
